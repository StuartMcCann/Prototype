
@model IEnumerable<Prototype.Models.JobProfile>
    <script>

     $(document).ready(function () {
         $.ajax({
             type: "GET",
             url: "/Controllers/Job/JobProfile",
             data: {},
             contentType: "application/json; charset=utf-8",
             dataType: "json",
             success: function (response) {
                 //$("#Content").text(response.d);
                 $.each(response, function (index, job) {
                     $('#output').append('<p> ID: Test</p>'); 
                 });
                     },
             failure: function (response) {
                 alert(response.d);
             }
         });
     });
    </script>

    @foreach (var jobProfile in Model)
    {
        <div class="container buffer text">
            <div class="row heading">
                <div id="output"></div>
                <div class="col-sm-8"><h1>@jobProfile.CompanyName  </h1></div>
                <div class="col-sm-4"><h1>Employer Rating: @jobProfile.Rating/5</h1></div>
            </div>
            <div class="row buffer ">
                <div class="col-sm">
                    <h2>@jobProfile.JobTitle</h2>

                    <h2>FROM £@jobProfile.LowerRate - @jobProfile.UpperRate</h2>
                    <h2>Duration: @jobProfile.Duration weeks</h2>
                </div>
                <div class="col-sm">
                </div>
                <div class="col-sm"><h1>Employer Rating: @jobProfile.Rating/5</h1></div>
            </div>
            <div class="row buffer ">
                <div class="col-sm-9">
                    <h3>Company Profile</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vestibulum eleifend odio, ut egestas urna pellentesque vitae. Cras euismod dolor augue, eu porta arcu rutrum vitae. Mauris lacinia placerat nunc vitae consectetur. Ut viverra ipsum justo, vitae tristique erat tincidunt accumsan. Mauris et sem et augue commodo pretium. Proin aliquet.</p>
                    <h3>Job Desription</h3>
                    <p>@jobProfile.JobDescription</p>
                    <h3>Company Reviews</h3>
                    <!--Ajax call for company reviews if decide to include -->
                    <p>Test</p>
                </div>
                <div class="col-sm-3 buffer">
                    <h3>More Like This</h3>
                    <!--Ajax call for more like this all dynamic items need changed with id from ajax-->
                    @for (int loop = 0; loop < 2; loop++)
                    {
                        <div class="buffer">
                            <div class="card ">
                                <h5 class="card-header">Job Title</h5>
                                <div class="card-body">
                                    <h5 class="card-title">Rate: £@jobProfile.LowerRate-@jobProfile.UpperRate</h5>
                                    @*<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>*@
                                    <h5 class="card-title">@jobProfile.CompanyName</h5>
                                    @Html.ActionLink("View more", "JobProfile", new { id = jobProfile.JobID })
                                </div>
                            </div>
                        </div>
                    }

                </div>

            </div>




        </div>



    }

